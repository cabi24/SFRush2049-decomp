# Source: game_code.bin (decompressed)
# Address: 0x80090088

glabel entity_spawn_callback
    /* 80090088 27BDFFE0 */  addiu $sp, $sp, -32
    /* 8009008C AFBF0014 */  sw $ra, 20($sp)
    /* 80090090 AFA40020 */  sw $a0, 32($sp)
    /* 80090094 10C00012 */  beq $a2, $zero, 0x800900E0
    /* 80090098 AFA50024 */  sw $a1, 36($sp)
    /* 8009009C 87AE0022 */  lh $t6, 34($sp)
    /* 800900A0 24090044 */  addiu $t1, $zero, 68
    /* 800900A4 3C088013 */  lui $t0, 0x8013
    /* 800900A8 01C90019 */  multu $t6, $t1
    /* 800900AC 2508E700 */  addiu $t0, $t0, -6400
    /* 800900B0 24050001 */  addiu $a1, $zero, 1
    /* 800900B4 24060001 */  addiu $a2, $zero, 1
    /* 800900B8 00007812 */  mflo $t7
    /* 800900BC 010F3821 */  addu $a3, $t0, $t7
    /* 800900C0 84E40018 */  lh $a0, 24($a3)
    /* 800900C4 04820007 */  .word 0x04820007
    /* 800900C8 87B90022 */  lh $t9, 34($sp)
    /* 800900CC 0C024022 */  jal 0x80090088
    /* 800900D0 AFA70018 */  sw $a3, 24($sp)
    /* 800900D4 8FA70018 */  lw $a3, 24($sp)
    /* 800900D8 2418FFFF */  addiu $t8, $zero, -1
    /* 800900DC A4F80018 */  sh $t8, 24($a3)
    /* 800900E0 87B90022 */  lh $t9, 34($sp)
    /* 800900E4 8FAB0024 */  lw $t3, 36($sp)
    /* 800900E8 3C088013 */  lui $t0, 0x8013
    /* 800900EC 00195100 */  sll $t2, $t9, 4
    /* 800900F0 01595021 */  addu $t2, $t2, $t9
    /* 800900F4 2508E700 */  addiu $t0, $t0, -6400
    /* 800900F8 000A5080 */  sll $t2, $t2, 2
    /* 800900FC 1160000B */  beq $t3, $zero, 0x8009012C
    /* 80090100 010A3821 */  addu $a3, $t0, $t2
    /* 80090104 84E40016 */  lh $a0, 22($a3)
    /* 80090108 24050001 */  addiu $a1, $zero, 1
    /* 8009010C 24060001 */  addiu $a2, $zero, 1
    /* 80090110 04820007 */  .word 0x04820007
    /* 80090114 87A40022 */  lh $a0, 34($sp)
    /* 80090118 0C024022 */  jal 0x80090088
    /* 8009011C AFA70018 */  sw $a3, 24($sp)
    /* 80090120 8FA70018 */  lw $a3, 24($sp)
    /* 80090124 240CFFFF */  addiu $t4, $zero, -1
    /* 80090128 A4EC0016 */  sh $t4, 22($a3)
    /* 8009012C 87A40022 */  lh $a0, 34($sp)
    /* 80090130 0C02400B */  jal 0x8009002C
    /* 80090134 AFA70018 */  sw $a3, 24($sp)
    /* 80090138 3C088013 */  lui $t0, 0x8013
    /* 8009013C 2508E700 */  addiu $t0, $t0, -6400
    /* 80090140 8FA70018 */  lw $a3, 24($sp)
    /* 80090144 04400007 */  bltz $v0, 0x80090164
    /* 80090148 24090044 */  addiu $t1, $zero, 68
    /* 8009014C 00490019 */  multu $v0, $t1
    /* 80090150 84ED0018 */  lh $t5, 24($a3)
    /* 80090154 00007012 */  mflo $t6
    /* 80090158 010E7821 */  addu $t7, $t0, $t6
    /* 8009015C 10000017 */  beq $zero, $zero, 0x800901BC
    /* 80090160 A5ED0016 */  sh $t5, 22($t7)
    /* 80090164 3C028016 */  lui $v0, 0x8016
    /* 80090168 2442B254 */  addiu $v0, $v0, -19884
    /* 8009016C 84590000 */  lh $t9, 0($v0)
    /* 80090170 87B80022 */  lh $t8, 34($sp)
    /* 80090174 57190005 */  .word 0x57190005
    /* 80090178 87A40022 */  lh $a0, 34($sp)
    /* 8009017C 84EA0018 */  lh $t2, 24($a3)
    /* 80090180 1000000E */  beq $zero, $zero, 0x800901BC
    /* 80090184 A44A0000 */  sh $t2, 0($v0)
    /* 80090188 87A40022 */  lh $a0, 34($sp)
    /* 8009018C 0C023FF4 */  jal 0x8008FFD0
    /* 80090190 AFA70018 */  sw $a3, 24($sp)
    /* 80090194 3C088013 */  lui $t0, 0x8013
    /* 80090198 2508E700 */  addiu $t0, $t0, -6400
    /* 8009019C 8FA70018 */  lw $a3, 24($sp)
    /* 800901A0 04400006 */  bltz $v0, 0x800901BC
    /* 800901A4 24090044 */  addiu $t1, $zero, 68
    /* 800901A8 00490019 */  multu $v0, $t1
    /* 800901AC 84EB0018 */  lh $t3, 24($a3)
    /* 800901B0 00006012 */  mflo $t4
    /* 800901B4 010C7021 */  addu $t6, $t0, $t4
    /* 800901B8 A5CB0018 */  sh $t3, 24($t6)
    /* 800901BC 3C038015 */  lui $v1, 0x8015
    /* 800901C0 87AF0022 */  lh $t7, 34($sp)
    /* 800901C4 24636990 */  addiu $v1, $v1, 27024
    /* 800901C8 8C620000 */  lw $v0, 0($v1)
    /* 800901CC 2404FFFF */  addiu $a0, $zero, -1
    /* 800901D0 340DFFFF */  ori $t5, $zero, 0xFFFF
    /* 800901D4 25F80001 */  addiu $t8, $t7, 1
    /* 800901D8 A4ED0014 */  sh $t5, 20($a3)
    /* 800901DC A4E40016 */  sh $a0, 22($a3)
    /* 800901E0 1702000D */  bne $t8, $v0, 0x80090218
    /* 800901E4 A4E40018 */  sh $a0, 24($a3)
    /* 800901E8 3404FFFF */  ori $a0, $zero, 0xFFFF
    /* 800901EC 2459FFFF */  addiu $t9, $v0, -1
    /* 800901F0 03290019 */  multu $t9, $t1
    /* 800901F4 AC790000 */  sw $t9, 0($v1)
    /* 800901F8 03201025 */  or $v0, $t9, $zero
    /* 800901FC 00005012 */  mflo $t2
    /* 80090200 010A6021 */  addu $t4, $t0, $t2
    /* 80090204 958BFFD0 */  lhu $t3, -48($t4)
    /* 80090208 548B0004 */  .word 0x548B0004
    /* 8009020C 8FBF0014 */  lw $ra, 20($sp)
    /* 80090210 5F20FFF7 */  .word 0x5F20FFF7
    /* 80090214 2459FFFF */  addiu $t9, $v0, -1
    /* 80090218 8FBF0014 */  lw $ra, 20($sp)
    /* 8009021C 27BD0020 */  addiu $sp, $sp, 32
    /* 80090220 03E00008 */  jr $ra
    /* 80090224 00000000 */  nop
