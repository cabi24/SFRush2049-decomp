# Source: game_code.bin (decompressed)
# Address: 0x80105858

glabel mode_unlock_handler
    /* 80105858 24A50674 */  addiu $a1, $a1, 1652
    /* 8010585C 0C001264 */  jal 0x80004990
    /* 80105860 02C02025 */  or $a0, $s6, $zero
    /* 80105864 02E02025 */  or $a0, $s7, $zero
    /* 80105868 00002825 */  or $a1, $zero, $zero
    /* 8010586C 0C001C9C */  jal 0x80007270
    /* 80105870 24060001 */  addiu $a2, $zero, 1
    /* 80105874 0C02D080 */  jal 0x800B4200
    /* 80105878 24120005 */  addiu $s2, $zero, 5
    /* 8010587C 00408025 */  or $s0, $v0, $zero
    /* 80105880 02E02025 */  or $a0, $s7, $zero
    /* 80105884 00002825 */  or $a1, $zero, $zero
    /* 80105888 0C001D78 */  jal 0x800075E0
    /* 8010588C 00003025 */  or $a2, $zero, $zero
    /* 80105890 3C198011 */  lui $t9, 0x8011
    /* 80105894 833948D0 */  lb $t9, 18640($t9)
    /* 80105898 3C028015 */  lui $v0, 0x8015
    /* 8010589C 2401FFFF */  addiu $at, $zero, -1
    /* 801058A0 00197880 */  sll $t7, $t9, 2
    /* 801058A4 01F97821 */  addu $t7, $t7, $t9
    /* 801058A8 01F47021 */  addu $t6, $t7, $s4
    /* 801058AC 004E1021 */  addu $v0, $v0, $t6
    /* 801058B0 80421AC0 */  lb $v0, 6848($v0)
    /* 801058B4 3C048011 */  lui $a0, 0x8011
    /* 801058B8 14410003 */  bne $v0, $at, 0x801058C8
    /* 801058BC 0002C080 */  sll $t8, $v0, 2
    /* 801058C0 10000003 */  beq $zero, $zero, 0x801058D0
    /* 801058C4 24040001 */  addiu $a0, $zero, 1
    /* 801058C8 00982021 */  addu $a0, $a0, $t8
    /* 801058CC 8C8446AC */  lw $a0, 18092($a0)
    /* 801058D0 0C02DD28 */  jal 0x800B74A0
    /* 801058D4 00000000 */  nop
    /* 801058D8 02C02025 */  or $a0, $s6, $zero
    /* 801058DC 0C02CFE9 */  jal 0x800B3FA4
    /* 801058E0 2405FFFF */  addiu $a1, $zero, -1
    /* 801058E4 001E2C00 */  sll $a1, $fp, 16
    /* 801058E8 0005CC03 */  sra $t9, $a1, 16
    /* 801058EC 0040A025 */  or $s4, $v0, $zero
    /* 801058F0 03202825 */  or $a1, $t9, $zero
    /* 801058F4 24040010 */  addiu $a0, $zero, 16
    /* 801058F8 0C02DC75 */  jal 0x800B71D4
    /* 801058FC 02C03025 */  or $a2, $s6, $zero
    /* 80105900 02E02025 */  or $a0, $s7, $zero
    /* 80105904 00002825 */  or $a1, $zero, $zero
    /* 80105908 0C001C9C */  jal 0x80007270
    /* 8010590C 24060001 */  addiu $a2, $zero, 1
    /* 80105910 0C02D080 */  jal 0x800B4200
    /* 80105914 2412000B */  addiu $s2, $zero, 11
    /* 80105918 00408025 */  or $s0, $v0, $zero
    /* 8010591C 02E02025 */  or $a0, $s7, $zero
    /* 80105920 00002825 */  or $a1, $zero, $zero
    /* 80105924 0C001D78 */  jal 0x800075E0
    /* 80105928 00003025 */  or $a2, $zero, $zero
    /* 8010592C 3C028018 */  lui $v0, 0x8018
    /* 80105930 2442A4E0 */  addiu $v0, $v0, -23328
    /* 80105934 8C59000C */  lw $t9, 12($v0)
    /* 80105938 26840010 */  addiu $a0, $s4, 16
    /* 8010593C 00047C00 */  sll $t7, $a0, 16
    /* 80105940 000F2403 */  sra $a0, $t7, 16
    /* 80105944 972F006E */  lhu $t7, 110($t9)
    /* 80105948 8C580010 */  lw $t8, 16($v0)
    /* 8010594C 87A5005A */  lh $a1, 90($sp)
    /* 80105950 000F7080 */  sll $t6, $t7, 2
    /* 80105954 8FAF0054 */  lw $t7, 84($sp)
    /* 80105958 030EC821 */  addu $t9, $t8, $t6
    /* 8010595C 032FC021 */  addu $t8, $t9, $t7
    /* 80105960 0C02DC75 */  jal 0x800B71D4
    /* 80105964 8F060000 */  lw $a2, 0($t8)
    /* 80105968 8FAE0058 */  lw $t6, 88($sp)
    /* 8010596C 8FAF0054 */  lw $t7, 84($sp)
    /* 80105970 2AA10005 */  slti $at, $s5, 5
    /* 80105974 25D90018 */  addiu $t9, $t6, 24
    /* 80105978 25F80004 */  addiu $t8, $t7, 4
    /* 8010597C AFB80054 */  sw $t8, 84($sp)
    /* 80105980 AFB90058 */  sw $t9, 88($sp)
    /* 80105984 02A0A025 */  or $s4, $s5, $zero
    /* 80105988 1420FFB0 */  bne $at, $zero, 0x8010584C
    /* 8010598C 27DE0018 */  addiu $fp, $fp, 24
    /* 80105990 3C168014 */  lui $s6, 0x8014
    /* 80105994 26D63FE0 */  addiu $s6, $s6, 16352
    /* 80105998 0000A025 */  or $s4, $zero, $zero
    /* 8010599C 24150050 */  addiu $s5, $zero, 80
    /* 801059A0 27BE0088 */  addiu $fp, $sp, 136
    /* 801059A4 02E02025 */  or $a0, $s7, $zero
    /* 801059A8 00002825 */  or $a1, $zero, $zero
    /* 801059AC 0C001C9C */  jal 0x80007270
    /* 801059B0 24060001 */  addiu $a2, $zero, 1
    /* 801059B4 0C02D080 */  jal 0x800B4200
    /* 801059B8 2412000A */  addiu $s2, $zero, 10
    /* 801059BC 00408025 */  or $s0, $v0, $zero
    /* 801059C0 02E02025 */  or $a0, $s7, $zero
    /* 801059C4 00002825 */  or $a1, $zero, $zero
    /* 801059C8 0C001D78 */  jal 0x800075E0
    /* 801059CC 00003025 */  or $a2, $zero, $zero
    /* 801059D0 3C0E8011 */  lui $t6, 0x8011
    /* 801059D4 81CE48D0 */  lb $t6, 18640($t6)
    /* 801059D8 3C028015 */  lui $v0, 0x8015
    /* 801059DC 2401FFFF */  addiu $at, $zero, -1
    /* 801059E0 000EC880 */  sll $t9, $t6, 2
    /* 801059E4 032EC821 */  addu $t9, $t9, $t6
    /* 801059E8 03347821 */  addu $t7, $t9, $s4
    /* 801059EC 004F1021 */  addu $v0, $v0, $t7
    /* 801059F0 80421AC0 */  lb $v0, 6848($v0)
    /* 801059F4 3C048011 */  lui $a0, 0x8011
    /* 801059F8 14410003 */  bne $v0, $at, 0x80105A08
    /* 801059FC 0002C080 */  sll $t8, $v0, 2
    /* 80105A00 10000003 */  beq $zero, $zero, 0x80105A10
    /* 80105A04 24040001 */  addiu $a0, $zero, 1
    /* 80105A08 00982021 */  addu $a0, $a0, $t8
    /* 80105A0C 8C8446AC */  lw $a0, 18092($a0)
    /* 80105A10 0C02DD28 */  jal 0x800B74A0
    /* 80105A14 00000000 */  nop
    /* 80105A18 8EC50000 */  lw $a1, 0($s6)
    /* 80105A1C 03C02025 */  or $a0, $fp, $zero
    /* 80105A20 0C02F9EF */  jal 0x800BE7BC
    /* 80105A24 240600A0 */  addiu $a2, $zero, 160
    /* 80105A28 00152C00 */  sll $a1, $s5, 16
    /* 80105A2C 00057403 */  sra $t6, $a1, 16
    /* 80105A30 01C02825 */  or $a1, $t6, $zero
    /* 80105A34 24040045 */  addiu $a0, $zero, 69
    /* 80105A38 0C02DC75 */  jal 0x800B71D4
    /* 80105A3C 03C03025 */  or $a2, $fp, $zero
    /* 80105A40 26940001 */  addiu $s4, $s4, 1
    /* 80105A44 2A810005 */  slti $at, $s4, 5
    /* 80105A48 26B50018 */  addiu $s5, $s5, 24
    /* 80105A4C 1420FFD5 */  bne $at, $zero, 0x801059A4
    /* 80105A50 26D60004 */  addiu $s6, $s6, 4
    /* 80105A54 3C108014 */  lui $s0, 0x8014
    /* 80105A58 26103F20 */  addiu $s0, $s0, 16160
    /* 80105A5C 0000A025 */  or $s4, $zero, $zero
    /* 80105A60 24150050 */  addiu $s5, $zero, 80
    /* 80105A64 24160130 */  addiu $s6, $zero, 304
    /* 80105A68 241E0005 */  addiu $fp, $zero, 5
    /* 80105A6C 02E02025 */  or $a0, $s7, $zero
    /* 80105A70 00002825 */  or $a1, $zero, $zero
    /* 80105A74 0C001C9C */  jal 0x80007270
    /* 80105A78 24060001 */  addiu $a2, $zero, 1
    /* 80105A7C 24120002 */  addiu $s2, $zero, 2
    /* 80105A80 0C02D080 */  jal 0x800B4200
    /* 80105A84 AFB0005C */  sw $s0, 92($sp)
    /* 80105A88 8FB0005C */  lw $s0, 92($sp)
    /* 80105A8C AFA2007C */  sw $v0, 124($sp)
    /* 80105A90 02E02025 */  or $a0, $s7, $zero
    /* 80105A94 00002825 */  or $a1, $zero, $zero
    /* 80105A98 0C001D78 */  jal 0x800075E0
    /* 80105A9C 00003025 */  or $a2, $zero, $zero
    /* 80105AA0 3C198011 */  lui $t9, 0x8011
    /* 80105AA4 833948D0 */  lb $t9, 18640($t9)
    /* 80105AA8 3C028015 */  lui $v0, 0x8015
    /* 80105AAC 2401FFFF */  addiu $at, $zero, -1
    /* 80105AB0 00197880 */  sll $t7, $t9, 2
    /* 80105AB4 01F97821 */  addu $t7, $t7, $t9
    /* 80105AB8 01F4C021 */  addu $t8, $t7, $s4
    /* 80105ABC 00581021 */  addu $v0, $v0, $t8
    /* 80105AC0 80421AC0 */  lb $v0, 6848($v0)
    /* 80105AC4 3C048011 */  lui $a0, 0x8011
    /* 80105AC8 14410003 */  bne $v0, $at, 0x80105AD8
    /* 80105ACC 00027080 */  sll $t6, $v0, 2
    /* 80105AD0 10000003 */  beq $zero, $zero, 0x80105AE0
    /* 80105AD4 24040001 */  addiu $a0, $zero, 1
    /* 80105AD8 008E2021 */  addu $a0, $a0, $t6
    /* 80105ADC 8C8446AC */  lw $a0, 18092($a0)
    /* 80105AE0 0C02DD28 */  jal 0x800B74A0
    /* 80105AE4 00000000 */  nop
    /* 80105AE8 02002025 */  or $a0, $s0, $zero
    /* 80105AEC 0C02CFE9 */  jal 0x800B3FA4
    /* 80105AF0 2405FFFF */  addiu $a1, $zero, -1
    /* 80105AF4 02C27823 */  subu $t7, $s6, $v0
    /* 80105AF8 000F2400 */  sll $a0, $t7, 16
    /* 80105AFC 00152C00 */  sll $a1, $s5, 16
    /* 80105B00 00057403 */  sra $t6, $a1, 16
    /* 80105B04 0004C403 */  sra $t8, $a0, 16
    /* 80105B08 03002025 */  or $a0, $t8, $zero
    /* 80105B0C 01C02825 */  or $a1, $t6, $zero
    /* 80105B10 0C02DC75 */  jal 0x800B71D4
    /* 80105B14 02003025 */  or $a2, $s0, $zero
    /* 80105B18 26940001 */  addiu $s4, $s4, 1
    /* 80105B1C 26B50018 */  addiu $s5, $s5, 24
    /* 80105B20 169EFFD2 */  bne $s4, $fp, 0x80105A6C
    /* 80105B24 2610000A */  addiu $s0, $s0, 10
    /* 80105B28 3C01BF80 */  lui $at, 0xBF80
    /* 80105B2C 44816000 */  .word 0x44816000
    /* 80105B30 0C02D96D */  jal 0x800B65B4
    /* 80105B34 00000000 */  nop
    /* 80105B38 8FBF004C */  lw $ra, 76($sp)
    /* 80105B3C D7B40018 */  .word 0xD7B40018
    /* 80105B40 D7B60020 */  .word 0xD7B60020
    /* 80105B44 8FB00028 */  lw $s0, 40($sp)
    /* 80105B48 8FB1002C */  lw $s1, 44($sp)
    /* 80105B4C 8FB20030 */  lw $s2, 48($sp)
    /* 80105B50 8FB30034 */  lw $s3, 52($sp)
    /* 80105B54 8FB40038 */  lw $s4, 56($sp)
    /* 80105B58 8FB5003C */  lw $s5, 60($sp)
    /* 80105B5C 8FB60040 */  lw $s6, 64($sp)
    /* 80105B60 8FB70044 */  lw $s7, 68($sp)
    /* 80105B64 8FBE0048 */  lw $fp, 72($sp)
    /* 80105B68 27BD0248 */  addiu $sp, $sp, 584
    /* 80105B6C 03E00008 */  jr $ra
    /* 80105B70 24020001 */  addiu $v0, $zero, 1
