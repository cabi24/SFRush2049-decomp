# Source: game_code.bin (decompressed)
# Address: 0x800B6788

glabel audio_doppler_calc
    /* 800B6788 27BDFF90 */  addiu $sp, $sp, -112
    /* 800B678C AFBF0034 */  sw $ra, 52($sp)
    /* 800B6790 AFB00074 */  sw $s0, 116($sp)
    /* 800B6794 320EFFFF */  andi $t6, $s0, 0xFFFF
    /* 800B6798 01C08025 */  or $s0, $t6, $zero
    /* 800B679C 0C02CF46 */  jal 0x800B3D18
    /* 800B67A0 00004025 */  or $t0, $zero, $zero
    /* 800B67A4 3C068003 */  lui $a2, 0x8003
    /* 800B67A8 3C078003 */  lui $a3, 0x8003
    /* 800B67AC 8CE7AFC4 */  lw $a3, -20540($a3)
    /* 800B67B0 8CC6AFC0 */  lw $a2, -20544($a2)
    /* 800B67B4 00002025 */  or $a0, $zero, $zero
    /* 800B67B8 00002825 */  or $a1, $zero, $zero
    /* 800B67BC 24E7FFFF */  addiu $a3, $a3, -1
    /* 800B67C0 0C0228F9 */  jal 0x8008A3E4
    /* 800B67C4 24C6FFFF */  addiu $a2, $a2, -1
    /* 800B67C8 3C118015 */  lui $s1, 0x8015
    /* 800B67CC 26319B88 */  addiu $s1, $s1, -25720
    /* 800B67D0 0C021E38 */  jal 0x800878E0
    /* 800B67D4 8E240000 */  lw $a0, 0($s1)
    /* 800B67D8 8E240000 */  lw $a0, 0($s1)
    /* 800B67DC 0C021C17 */  jal 0x8008705C
    /* 800B67E0 00802027 */  nor $a0, $a0, $zero
    /* 800B67E4 3C018013 */  lui $at, 0x8013
    /* 800B67E8 AC20E6D0 */  sw $zero, -6448($at)
    /* 800B67EC 8E2F0000 */  lw $t7, 0($s1)
    /* 800B67F0 3C048015 */  lui $a0, 0x8015
    /* 800B67F4 24849B48 */  addiu $a0, $a0, -25784
    /* 800B67F8 31F80020 */  andi $t8, $t7, 0x0020
    /* 800B67FC 13000025 */  beq $t8, $zero, 0x800B6894
    /* 800B6800 3C058015 */  lui $a1, 0x8015
    /* 800B6804 3C018011 */  lui $at, 0x8011
    /* 800B6808 4459F800 */  .word 0x4459F800
    /* 800B680C 240E0001 */  addiu $t6, $zero, 1
    /* 800B6810 44CEF800 */  .word 0x44CEF800
    /* 800B6814 C4244748 */  lwc1 $f4, 18248($at)
    /* 800B6818 3C014F00 */  lui $at, 0x4F00
    /* 800B681C 460021A4 */  .word 0x460021A4
    /* 800B6820 444EF800 */  .word 0x444EF800
    /* 800B6824 00000000 */  nop
    /* 800B6828 31CE0078 */  andi $t6, $t6, 0x0078
    /* 800B682C 51C00013 */  .word 0x51C00013
    /* 800B6830 440E3000 */  .word 0x440E3000
    /* 800B6834 44813000 */  .word 0x44813000
    /* 800B6838 240E0001 */  addiu $t6, $zero, 1
    /* 800B683C 46062181 */  .word 0x46062181
    /* 800B6840 44CEF800 */  .word 0x44CEF800
    /* 800B6844 00000000 */  nop
    /* 800B6848 460031A4 */  .word 0x460031A4
    /* 800B684C 444EF800 */  .word 0x444EF800
    /* 800B6850 00000000 */  nop
    /* 800B6854 31CE0078 */  andi $t6, $t6, 0x0078
    /* 800B6858 15C00005 */  bne $t6, $zero, 0x800B6870
    /* 800B685C 00000000 */  nop
    /* 800B6860 440E3000 */  .word 0x440E3000
    /* 800B6864 3C018000 */  lui $at, 0x8000
    /* 800B6868 10000007 */  beq $zero, $zero, 0x800B6888
    /* 800B686C 01C17025 */  or $t6, $t6, $at
    /* 800B6870 10000005 */  beq $zero, $zero, 0x800B6888
    /* 800B6874 240EFFFF */  addiu $t6, $zero, -1
    /* 800B6878 440E3000 */  .word 0x440E3000
    /* 800B687C 00000000 */  nop
    /* 800B6880 05C0FFFB */  bltz $t6, 0x800B6870
    /* 800B6884 00000000 */  nop
    /* 800B6888 44D9F800 */  .word 0x44D9F800
    /* 800B688C 3C018015 */  lui $at, 0x8015
    /* 800B6890 A02E9B4B */  sb $t6, -25781($at)
    /* 800B6894 3C068015 */  lui $a2, 0x8015
    /* 800B6898 8CC69B28 */  lw $a2, -25816($a2)
    /* 800B689C 8CA59B08 */  lw $a1, -25848($a1)
    /* 800B68A0 0C022852 */  jal 0x8008A148
    /* 800B68A4 00003825 */  or $a3, $zero, $zero
    /* 800B68A8 3C028015 */  lui $v0, 0x8015
    /* 800B68AC 8C429820 */  lw $v0, -26592($v0)
    /* 800B68B0 3C058015 */  lui $a1, 0x8015
    /* 800B68B4 3C068015 */  lui $a2, 0x8015
    /* 800B68B8 94470010 */  lhu $a3, 16($v0)
    /* 800B68BC 94430012 */  lhu $v1, 18($v0)
    /* 800B68C0 8C440018 */  lw $a0, 24($v0)
    /* 800B68C4 24EFFFFF */  addiu $t7, $a3, -1
    /* 800B68C8 2478FFFF */  addiu $t8, $v1, -1
    /* 800B68CC 0000B025 */  or $s6, $zero, $zero
    /* 800B68D0 AFB80020 */  sw $t8, 32($sp)
    /* 800B68D4 AFAF001C */  sw $t7, 28($sp)
    /* 800B68D8 AFA00028 */  sw $zero, 40($sp)
    /* 800B68DC AFA00024 */  sw $zero, 36($sp)
    /* 800B68E0 AFA00018 */  sw $zero, 24($sp)
    /* 800B68E4 AFA00014 */  sw $zero, 20($sp)
    /* 800B68E8 94C69B2A */  lhu $a2, -25814($a2)
    /* 800B68EC 94A59B0A */  lhu $a1, -25846($a1)
    /* 800B68F0 0C021E82 */  jal 0x80087A08
    /* 800B68F4 AFA30010 */  sw $v1, 16($sp)
    /* 800B68F8 92590000 */  lbu $t9, 0($s2)
    /* 800B68FC 240100FF */  addiu $at, $zero, 255
    /* 800B6900 3C148015 */  lui $s4, 0x8015
    /* 800B6904 1721000A */  bne $t9, $at, 0x800B6930
    /* 800B6908 00009825 */  or $s3, $zero, $zero
    /* 800B690C 2610FFFE */  addiu $s0, $s0, -2
    /* 800B6910 240E0001 */  addiu $t6, $zero, 1
    /* 800B6914 240F0002 */  addiu $t7, $zero, 2
    /* 800B6918 3218FFFF */  andi $t8, $s0, 0xFFFF
    /* 800B691C 264A0001 */  addiu $t2, $s2, 1
    /* 800B6920 AFAE0048 */  sw $t6, 72($sp)
    /* 800B6924 AFAF005C */  sw $t7, 92($sp)
    /* 800B6928 10000008 */  beq $zero, $zero, 0x800B694C
    /* 800B692C 03008025 */  or $s0, $t8, $zero
    /* 800B6930 2610FFFF */  addiu $s0, $s0, -1
    /* 800B6934 24190001 */  addiu $t9, $zero, 1
    /* 800B6938 320EFFFF */  andi $t6, $s0, 0xFFFF
    /* 800B693C 02405025 */  or $t2, $s2, $zero
    /* 800B6940 AFA00048 */  sw $zero, 72($sp)
    /* 800B6944 AFB9005C */  sw $t9, 92($sp)
    /* 800B6948 01C08025 */  or $s0, $t6, $zero
    /* 800B694C 3C128015 */  lui $s2, 0x8015
    /* 800B6950 86529D92 */  lh $s2, -25198($s2)
    /* 800B6954 86949D9E */  lh $s4, -25186($s4)
    /* 800B6958 2403FFFF */  addiu $v1, $zero, -1
    /* 800B695C 1A00009F */  blez $s0, 0x800B6BDC
    /* 800B6960 AFB0003C */  sw $s0, 60($sp)
    /* 800B6964 3C1E8015 */  lui $fp, 0x8015
    /* 800B6968 3C178015 */  lui $s7, 0x8015
    /* 800B696C 3C158015 */  lui $s5, 0x8015
    /* 800B6970 26B597F0 */  addiu $s5, $s5, -26640
    /* 800B6974 26F79B70 */  addiu $s7, $s7, -25744
    /* 800B6978 27DE9800 */  addiu $fp, $fp, -26624
    /* 800B697C 8FB80048 */  lw $t8, 72($sp)
    /* 800B6980 026A1021 */  addu $v0, $s3, $t2
    /* 800B6984 2401000A */  addiu $at, $zero, 10
    /* 800B6988 53000007 */  .word 0x53000007
    /* 800B698C 0153C021 */  addu $t8, $t2, $s3
    /* 800B6990 904E0000 */  lbu $t6, 0($v0)
    /* 800B6994 90590001 */  lbu $t9, 1($v0)
    /* 800B6998 000E7A00 */  sll $t7, $t6, 8
    /* 800B699C 10000003 */  beq $zero, $zero, 0x800B69AC
    /* 800B69A0 032F8825 */  or $s1, $t9, $t7
    /* 800B69A4 0153C021 */  addu $t8, $t2, $s3
    /* 800B69A8 93110000 */  lbu $s1, 0($t8)
    /* 800B69AC 5621000E */  .word 0x5621000E
    /* 800B69B0 24010020 */  addiu $at, $zero, 32
    /* 800B69B4 8EA20000 */  lw $v0, 0($s5)
    /* 800B69B8 3C128015 */  lui $s2, 0x8015
    /* 800B69BC 86529D92 */  lh $s2, -25198($s2)
    /* 800B69C0 904E0002 */  lbu $t6, 2($v0)
    /* 800B69C4 904F0003 */  lbu $t7, 3($v0)
    /* 800B69C8 2411FFFF */  addiu $s1, $zero, -1
    /* 800B69CC 028EC821 */  addu $t9, $s4, $t6
    /* 800B69D0 3C0E8015 */  lui $t6, 0x8015
    /* 800B69D4 81CE9B60 */  lb $t6, -25760($t6)
    /* 800B69D8 032FC021 */  addu $t8, $t9, $t7
    /* 800B69DC 10000078 */  beq $zero, $zero, 0x800B6BC0
    /* 800B69E0 030EA021 */  addu $s4, $t8, $t6
    /* 800B69E4 24010020 */  addiu $at, $zero, 32
    /* 800B69E8 12210003 */  beq $s1, $at, 0x800B69F8
    /* 800B69EC 2A210100 */  slti $at, $s1, 256
    /* 800B69F0 1420000E */  bne $at, $zero, 0x800B6A2C
    /* 800B69F4 0011C040 */  sll $t8, $s1, 1
    /* 800B69F8 8EA20000 */  lw $v0, 0($s5)
    /* 800B69FC 90430009 */  lbu $v1, 9($v0)
    /* 800B6A00 10600007 */  beq $v1, $zero, 0x800B6A20
    /* 800B6A04 2411FFFF */  addiu $s1, $zero, -1
    /* 800B6A08 90590006 */  lbu $t9, 6($v0)
    /* 800B6A0C 82EF0000 */  lb $t7, 0($s7)
    /* 800B6A10 2411FFFF */  addiu $s1, $zero, -1
    /* 800B6A14 032F1821 */  addu $v1, $t9, $t7
    /* 800B6A18 10000069 */  beq $zero, $zero, 0x800B6BC0
    /* 800B6A1C 02439021 */  addu $s2, $s2, $v1
    /* 800B6A20 90430007 */  lbu $v1, 7($v0)
    /* 800B6A24 10000066 */  beq $zero, $zero, 0x800B6BC0
    /* 800B6A28 02439021 */  addu $s2, $s2, $v1
    /* 800B6A2C 3C118015 */  lui $s1, 0x8015
    /* 800B6A30 02388821 */  addu $s1, $s1, $t8
    /* 800B6A34 86319878 */  lh $s1, -26504($s1)
    /* 800B6A38 06210004 */  bgez $s1, 0x800B6A4C
    /* 800B6A3C 00000000 */  nop
    /* 800B6A40 8EA20000 */  lw $v0, 0($s5)
    /* 800B6A44 1000FFEE */  beq $zero, $zero, 0x800B6A00
    /* 800B6A48 90430009 */  lbu $v1, 9($v0)
    /* 800B6A4C 18600011 */  blez $v1, 0x800B6A94
    /* 800B6A50 3C058015 */  lui $a1, 0x8015
    /* 800B6A54 8EA20000 */  lw $v0, 0($s5)
    /* 800B6A58 904E000A */  lbu $t6, 10($v0)
    /* 800B6A5C 51C0000E */  .word 0x51C0000E
    /* 800B6A60 8FD90000 */  lw $t9, 0($fp)
    /* 800B6A64 90590009 */  lbu $t9, 9($v0)
    /* 800B6A68 0011C080 */  sll $t8, $s1, 2
    /* 800B6A6C 5720000A */  .word 0x5720000A
    /* 800B6A70 8FD90000 */  lw $t9, 0($fp)
    /* 800B6A74 8FCF0000 */  lw $t7, 0($fp)
    /* 800B6A78 0311C023 */  subu $t8, $t8, $s1
    /* 800B6A7C 0018C080 */  sll $t8, $t8, 2
    /* 800B6A80 01F87021 */  addu $t6, $t7, $t8
    /* 800B6A84 8DD90000 */  lw $t9, 0($t6)
    /* 800B6A88 03237821 */  addu $t7, $t9, $v1
    /* 800B6A8C 91F80000 */  lbu $t8, 0($t7)
    /* 800B6A90 02589023 */  subu $s2, $s2, $t8
    /* 800B6A94 8FD90000 */  lw $t9, 0($fp)
    /* 800B6A98 00117080 */  sll $t6, $s1, 2
    /* 800B6A9C 01D17023 */  subu $t6, $t6, $s1
    /* 800B6AA0 000E7080 */  sll $t6, $t6, 2
    /* 800B6AA4 01D98021 */  addu $s0, $t6, $t9
    /* 800B6AA8 92080005 */  lbu $t0, 5($s0)
    /* 800B6AAC 3C028015 */  lui $v0, 0x8015
    /* 800B6AB0 3C068015 */  lui $a2, 0x8015
    /* 800B6AB4 12C80015 */  beq $s6, $t0, 0x800B6B0C
    /* 800B6AB8 00087880 */  sll $t7, $t0, 2
    /* 800B6ABC 004F1021 */  addu $v0, $v0, $t7
    /* 800B6AC0 8C429820 */  lw $v0, -26592($v0)
    /* 800B6AC4 0100B025 */  or $s6, $t0, $zero
    /* 800B6AC8 94A59B0A */  lhu $a1, -25846($a1)
    /* 800B6ACC 94470010 */  lhu $a3, 16($v0)
    /* 800B6AD0 94430012 */  lhu $v1, 18($v0)
    /* 800B6AD4 8C440018 */  lw $a0, 24($v0)
    /* 800B6AD8 24F8FFFF */  addiu $t8, $a3, -1
    /* 800B6ADC 246EFFFF */  addiu $t6, $v1, -1
    /* 800B6AE0 AFAE0020 */  sw $t6, 32($sp)
    /* 800B6AE4 AFB8001C */  sw $t8, 28($sp)
    /* 800B6AE8 AFAA004C */  sw $t2, 76($sp)
    /* 800B6AEC AFA00028 */  sw $zero, 40($sp)
    /* 800B6AF0 AFA00024 */  sw $zero, 36($sp)
    /* 800B6AF4 AFA00018 */  sw $zero, 24($sp)
    /* 800B6AF8 AFA00014 */  sw $zero, 20($sp)
    /* 800B6AFC 94C69B2A */  lhu $a2, -25814($a2)
    /* 800B6B00 0C021E82 */  jal 0x80087A08
    /* 800B6B04 AFA30010 */  sw $v1, 16($sp)
    /* 800B6B08 8FAA004C */  lw $t2, 76($sp)
    /* 800B6B0C 8EA20000 */  lw $v0, 0($s5)
    /* 800B6B10 00001825 */  or $v1, $zero, $zero
    /* 800B6B14 02802825 */  or $a1, $s4, $zero
    /* 800B6B18 90590009 */  lbu $t9, 9($v0)
    /* 800B6B1C 5320000E */  .word 0x5320000E
    /* 800B6B20 92090008 */  lbu $t1, 8($s0)
    /* 800B6B24 92090008 */  lbu $t1, 8($s0)
    /* 800B6B28 904F0006 */  lbu $t7, 6($v0)
    /* 800B6B2C 92080006 */  lbu $t0, 6($s0)
    /* 800B6B30 01E9C023 */  subu $t8, $t7, $t1
    /* 800B6B34 03081821 */  addu $v1, $t8, $t0
    /* 800B6B38 2463FFFF */  addiu $v1, $v1, -1
    /* 800B6B3C 04610003 */  bgez $v1, 0x800B6B4C
    /* 800B6B40 00037043 */  sra $t6, $v1, 1
    /* 800B6B44 24610001 */  addiu $at, $v1, 1
    /* 800B6B48 00017043 */  sra $t6, $at, 1
    /* 800B6B4C 10000003 */  beq $zero, $zero, 0x800B6B5C
    /* 800B6B50 01C01825 */  or $v1, $t6, $zero
    /* 800B6B54 92090008 */  lbu $t1, 8($s0)
    /* 800B6B58 92080006 */  lbu $t0, 6($s0)
    /* 800B6B5C 920F0009 */  lbu $t7, 9($s0)
    /* 800B6B60 92020007 */  lbu $v0, 7($s0)
    /* 800B6B64 00722021 */  addu $a0, $v1, $s2
    /* 800B6B68 0124C821 */  addu $t9, $t1, $a0
    /* 800B6B6C 01F4C021 */  addu $t8, $t7, $s4
    /* 800B6B70 03283023 */  subu $a2, $t9, $t0
    /* 800B6B74 AFAA004C */  sw $t2, 76($sp)
    /* 800B6B78 AFA80010 */  sw $t0, 16($sp)
    /* 800B6B7C 03023823 */  subu $a3, $t8, $v0
    /* 800B6B80 0C021C44 */  jal 0x80087110
    /* 800B6B84 AFA20014 */  sw $v0, 20($sp)
    /* 800B6B88 8EA20000 */  lw $v0, 0($s5)
    /* 800B6B8C 8FAA004C */  lw $t2, 76($sp)
    /* 800B6B90 904E0009 */  lbu $t6, 9($v0)
    /* 800B6B94 51C00004 */  .word 0x51C00004
    /* 800B6B98 92190008 */  lbu $t9, 8($s0)
    /* 800B6B9C 10000005 */  beq $zero, $zero, 0x800B6BB4
    /* 800B6BA0 90430006 */  lbu $v1, 6($v0)
    /* 800B6BA4 92190008 */  lbu $t9, 8($s0)
    /* 800B6BA8 920F0006 */  lbu $t7, 6($s0)
    /* 800B6BAC 032F1823 */  subu $v1, $t9, $t7
    /* 800B6BB0 24630001 */  addiu $v1, $v1, 1
    /* 800B6BB4 82EE0000 */  lb $t6, 0($s7)
    /* 800B6BB8 0243C021 */  addu $t8, $s2, $v1
    /* 800B6BBC 030E9021 */  addu $s2, $t8, $t6
    /* 800B6BC0 8FB9005C */  lw $t9, 92($sp)
    /* 800B6BC4 8FAF003C */  lw $t7, 60($sp)
    /* 800B6BC8 02201825 */  or $v1, $s1, $zero
    /* 800B6BCC 02799821 */  addu $s3, $s3, $t9
    /* 800B6BD0 026F082A */  slt $at, $s3, $t7
    /* 800B6BD4 5420FF6A */  .word 0x5420FF6A
    /* 800B6BD8 8FB80048 */  lw $t8, 72($sp)
    /* 800B6BDC 8FBF0034 */  lw $ra, 52($sp)
    /* 800B6BE0 27BD0070 */  addiu $sp, $sp, 112
    /* 800B6BE4 03E00008 */  jr $ra
    /* 800B6BE8 00000000 */  nop
